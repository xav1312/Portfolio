import{a as o,c as S,r as d,i as E,o as K,h as r,Y as O,w as A,g as z,e as B,f as g,j as W,C as Y}from"./index-BVq8bJ8z.js";import{h as q,n as G,o as Q}from"./QBtn-BVR3IhnJ.js";import{b as L,u as J,a as U}from"./use-timeout-D8fPTo0c.js";const V={ratio:[String,Number]};function X(e,i){return o(()=>{const a=Number(e.ratio||(i!==void 0?i.value:void 0));return isNaN(a)!==!0&&a>0?{paddingBottom:`${100/a}%`}:null})}const Z=1.7778,ae=S({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:i,emit:a}){const n=d(e.initialRatio),f=X(e,n),v=z(),{registerTimeout:b,removeTimeout:l}=L(),{registerTimeout:C,removeTimeout:k}=L(),_=o(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),N=o(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),s=[d(null),d(_.value)],u=d(0),m=d(!1),h=d(!1),P=o(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),R=o(()=>({width:e.width,height:e.height})),D=o(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),F=o(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function I(){if(k(),e.loadingShowDelay===0){m.value=!0;return}C(()=>{m.value=!0},e.loadingShowDelay)}function w(){k(),m.value=!1}function j({target:t}){Q(v)===!1&&(l(),n.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,T(t,1))}function T(t,c){c===1e3||Q(v)===!0||(t.complete===!0?H(t):b(()=>{T(t,c+1)},50))}function H(t){Q(v)!==!0&&(u.value=u.value^1,s[u.value].value=null,w(),t.getAttribute("__qerror")!=="true"&&(h.value=!1),a("load",t.currentSrc||t.src))}function x(t){l(),w(),h.value=!0,s[u.value].value=N.value,s[u.value^1].value=_.value,a("error",t)}function $(t){const c=s[t].value,y={key:"img_"+t,class:D.value,style:F.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...c};return u.value===t?Object.assign(y,{class:y.class+"current",onLoad:j,onError:x}):y.class+="loaded",r("div",{class:"q-img__container absolute-full",key:"img"+t},r("img",y))}function M(){return m.value===!1?r("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},q(i[h.value===!0?"error":"default"])):r("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},i.loading!==void 0?i.loading():e.noSpinner===!0?void 0:[r(G,{color:e.spinnerColor,size:e.spinnerSize})])}{let t=function(){A(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,c=>{l(),h.value=!1,c===null?(w(),s[u.value^1].value=_.value):I(),s[u.value].value=c},{immediate:!0})};E.value===!0?K(t):t()}return()=>{const t=[];return f.value!==null&&t.push(r("div",{key:"filler",style:f.value})),s[0].value!==null&&t.push($(0)),s[1].value!==null&&t.push($(1)),t.push(r(O,{name:"q-transition--fade"},M)),r("div",{key:"main",class:P.value,style:R.value,role:"img","aria-label":e.alt},t)}}}),ne=S({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:i}){const a=o(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>r(e.tag,{class:a.value},q(i.default))}}),ie=S({name:"QCard",props:{...J,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:i}){const{proxy:{$q:a}}=z(),n=U(e,a),f=o(()=>"q-card"+(n.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>r(e.tag,{class:f.value},q(i.default))}}),re=S({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:i}){const{proxy:{$q:a}}=z(),n=B(W,g);if(n===g)return console.error("QPage needs to be a deep child of QLayout"),g;if(B(Y,g)===g)return console.error("QPage needs to be child of QPageContainer"),g;const v=o(()=>{const l=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof e.styleFn=="function"){const C=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return e.styleFn(l,C)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-l+"px":a.screen.height===0?l!==0?`calc(100vh - ${l}px)`:"100vh":a.screen.height-l+"px"}}),b=o(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>r("main",{class:b.value,style:v.value},q(i.default))}});export{re as Q,ie as a,ae as b,ne as c};
